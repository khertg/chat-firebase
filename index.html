<!--<p>TEST</p>

<input type="text" id="email"><br>
<input type="text" id="password"><br>
<button id="submit">SUBMIT</button> 
!-->

<button onclick = "googleSignin()">Google Signin</button>

<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase.js"></script>

<!-- Firebase App is always required and must be first -->
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-app.js"></script>

<!-- Add additional services that you want to use -->
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-messaging.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-functions.js"></script>

<script src="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.js"></script>
<link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.css" />

<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyD4fN3GTT43R1HRvjZxMzihXxHOCuHqUS4",
    authDomain: "test-98533.firebaseapp.com",
    databaseURL: "https://test-98533.firebaseio.com",
    projectId: "test-98533",
    storageBucket: "test-98533.appspot.com",
    messagingSenderId: "498258966022"
  };
  firebase.initializeApp(config);
  
  var provider = new firebase.auth.GoogleAuthProvider();
  
	
		 var database = firebase.database();
	 
	 function writeUserData(userId, name, email, imageUrl) {
	  firebase.database().ref('users/' + userId).set({
		username: name,
		email: email,
		profile_picture : imageUrl
	  });
	}
	
	writeUserData("1123","poncins","pdeluna@student.passerellesnumeriques.org","N/A");


function googleSignin() {
   firebase.auth()
   
   .signInWithPopup(provider).then(function(result) {
      var token = result.credential.accessToken;
      var user = result.user;
		
      console.log(token)
      console.log(user)
   }).catch(function(error) {
      var errorCode = error.code;
      var errorMessage = error.message;
		
      console.log(error.code)
      console.log(error.message)
   });
}

function googleSignout() {
   firebase.auth().signOut()
	
   .then(function() {
      console.log('Signout Succesfull')
   }, function(error) {
      console.log('Signout Failed')  
   });
}


</script>

